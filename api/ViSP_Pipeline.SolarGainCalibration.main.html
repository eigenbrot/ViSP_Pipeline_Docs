
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>main &#8212; ViSP_Pipeline v1.0.0</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700" type="text/css" />
    <link rel="stylesheet" href="../_static/dkist.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/favico.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="remove_average_spectra" href="ViSP_Pipeline.SolarGainCalibration.remove_average_spectra.html" />
    <link rel="prev" title="identify_overlapping_zones" href="ViSP_Pipeline.SolarGainCalibration.identify_overlapping_zones.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>


  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="col-md-3 navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://nso.edu"><img src="../_static/img/NSOlogo.gif">
        </a>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav hidden">
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">ViSP Pipeline Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config_file.html">Configuration File Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../walkthrough.html">Data Reduction Walkthrough</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IPA_access.html">Instrument Partner Testing Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_warning.html">A Word About Data, RAM, and Disk Space</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../API.html">Reference/API</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">main</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="ViSP_Pipeline.SolarGainCalibration.identify_overlapping_zones.html" title="Previous Chapter: identify_overlapping_zones"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; identify_over...</span>
    </a>
  </li>
  <li>
    <a href="ViSP_Pipeline.SolarGainCalibration.remove_average_spectra.html" title="Next Chapter: remove_average_spectra"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">remove_averag... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>
          
            <ul class="nav navbar-nav navbar-left">
              <li><a href="http://dkist.nso.edu/">DKIST</a></li>
            </ul>
          
          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">

    <div class="col-md-3"><div id="side-logo" >
            <a href="http://dkist.nso.edu">
                <img src="../_static/img/DKISTLogo-Medium.jpg">
            </a>
        </div><div id="sidebar" class="bs-sidenav" role="complementary">
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">ViSP Pipeline Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config_file.html">Configuration File Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../walkthrough.html">Data Reduction Walkthrough</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IPA_access.html">Instrument Partner Testing Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_warning.html">A Word About Data, RAM, and Disk Space</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../API.html">Reference/API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-ViSP_Pipeline.ViSPPipeline">ViSP_Pipeline.ViSPPipeline Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-ViSP_Pipeline.ScienceCalibration">ViSP_Pipeline.ScienceCalibration Module</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../API.html#module-ViSP_Pipeline.InstrumentPolCalibration">ViSP_Pipeline.InstrumentPolCalibration Module</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../API.html#id2">Functions</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../API.html#id3">Functions</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.average_spectrum.html">average_spectrum</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.clean_pepper.html">clean_pepper</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.clean_salt.html">clean_salt</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.compute_line_zones.html">compute_line_zones</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.correct_geometry.html">correct_geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.find_beam_angles.html">find_beam_angles</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.find_beam_geometry.html">find_beam_geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.find_beam_offset.html">find_beam_offset</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.find_spec_geometry.html">find_spec_geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.generate_average_spectra.html">generate_average_spectra</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.generate_geometric_calibration.html">generate_geometric_calibration</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.generate_solar_gain_calibration.html">generate_solar_gain_calibration</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.get_matching_beams.html">get_matching_beams</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.identify_overlapping_zones.html">identify_overlapping_zones</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">main</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.remove_average_spectra.html">remove_average_spectra</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.remove_spec_geometry.html">remove_spec_geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.reshift.html">reshift</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.shift_chisq.html">shift_chisq</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.shift_func.html">shift_func</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.shift_spec.html">shift_spec</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.validate_gain_task_data.html">validate_gain_task_data</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.SolarGainCalibration.validate_solar_gain_calibration.html">validate_solar_gain_calibration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../API.html#module-ViSP_Pipeline.LampGainCalibration">ViSP_Pipeline.LampGainCalibration Module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../API.html#id4">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../API.html#id5">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../API.html#id6">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../API.html#id7">Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-ViSP_Pipeline.Data">ViSP_Pipeline.Data Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-ViSP_Pipeline.generic">ViSP_Pipeline.generic Module</a></li>
</ul>
</li>
</ul>

            
        </div>
    </div>

    <div class="body col-md-9 content" role="main">
      
  <div class="section" id="main">
<h1>main<a class="headerlink" href="#main" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="ViSP_Pipeline.SolarGainCalibration.main">
<code class="sig-prename descclassname">ViSP_Pipeline.SolarGainCalibration.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">solar_dir</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">outpre</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">geo_out</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">dark_cal</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="ViSP_Pipeline.Data.FitsData.html#ViSP_Pipeline.Data.FitsData" title="ViSP_Pipeline.Data.FitsData">ViSP_Pipeline.Data.FitsData</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lamp_gain_cal</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="ViSP_Pipeline.Data.FitsData.html#ViSP_Pipeline.Data.FitsData" title="ViSP_Pipeline.Data.FitsData">ViSP_Pipeline.Data.FitsData</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dark_cal_err</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="ViSP_Pipeline.Data.FitsData.html#ViSP_Pipeline.Data.FitsData" title="ViSP_Pipeline.Data.FitsData">ViSP_Pipeline.Data.FitsData</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lamp_cal_err</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="ViSP_Pipeline.Data.FitsData.html#ViSP_Pipeline.Data.FitsData" title="ViSP_Pipeline.Data.FitsData">ViSP_Pipeline.Data.FitsData</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">debug</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gen_err</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span><a class="reference internal" href="ViSP_Pipeline.Data.FitsData.html#ViSP_Pipeline.Data.FitsData" title="ViSP_Pipeline.Data.FitsData">ViSP_Pipeline.Data.FitsData</a><span class="p">, </span>Optional<span class="p">[</span><a class="reference internal" href="ViSP_Pipeline.Data.FitsData.html#ViSP_Pipeline.Data.FitsData" title="ViSP_Pipeline.Data.FitsData">ViSP_Pipeline.Data.FitsData</a><span class="p">]</span><span class="p">, </span><a class="reference internal" href="ViSP_Pipeline.Data.FitsData.html#ViSP_Pipeline.Data.FitsData" title="ViSP_Pipeline.Data.FitsData">ViSP_Pipeline.Data.FitsData</a><span class="p">]</span><a class="reference internal" href="../_modules/ViSP_Pipeline/SolarGainCalibration.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ViSP_Pipeline.SolarGainCalibration.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a raw frame through the Solar Gain Calibration pipeline.</p>
<p>If the associated Calibration objects are provided then the raw data will be dark corrected and have the lamp
gain removed prior to further analysis. These steps are not strictly required but are highly recommended.</p>
<p>The result of this pipeline is a Solar Gain Calibration object suitable for flattening the response of the ViSP
detector. As a side effect a Geometric Calibration object is produced. This object is used to remove the
distorting effects of the ViSP optics from the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>solar_dir</strong><span class="classifier">str</span></dt><dd><p>Location of the directory containing raw solar gain data.</p>
</dd>
<dt><strong>outpre</strong><span class="classifier">str</span></dt><dd><p>Prefix of the location to save processed data. Can include the full path. The processed data will be saved as
outpre.fits and associated uncertainties (if provided) will be saved as outpre_err.fits.</p>
</dd>
<dt><strong>geo_out</strong><span class="classifier">str</span></dt><dd><p>The location/filename to save the Geometric Calibration object. This is NOT a prefix.</p>
</dd>
<dt><strong>dark_cal</strong><span class="classifier">Data.FitsData</span></dt><dd><p>A Dark Calibration object. Probably the result of DarkCalibration.main().</p>
</dd>
<dt><strong>lamp_gain_cal</strong><span class="classifier">data.FitsData</span></dt><dd><p>A Lamp Gain Calibration object. Probably the result of LampGainCalibration.main().</p>
</dd>
<dt><strong>dark_cal_err</strong><span class="classifier">Data.FitsData or None</span></dt><dd><p>Uncertainty assocaited with the Dark Calibration object.</p>
</dd>
<dt><strong>lamp_cal_err</strong><span class="classifier">Data.FitsData or None</span></dt><dd><p>Uncertainty associated with the Lamp Gain Calibration object.</p>
</dd>
<dt><strong>gen_err</strong><span class="classifier">bool</span></dt><dd><p>If True then pixel uncertainties will be generated from the raw data</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Data.FitsData</dt><dd><p>Processed Solar Gain Calibration.</p>
</dd>
<dt>Data.FitsData</dt><dd><p>The uncertainty associated with the Solar Gain Calibration.</p>
</dd>
<dt>Data.FitsData</dt><dd><p>The Geometric Calibration data.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <div class="left-footer">
         &copy; 2021, Arthur Eigenbrot
       <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a>
    </div>
   
    <div class="right-footer">
      Last updated on 06 Jul 2021.
    </div>
    <div class="centre-footer">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.3.1
    </div>
  </div>
</footer>
  </body>
</html>