
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>polarimetric_multiplication &#8212; ViSP_Pipeline v0.20.0</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700" type="text/css" />
    <link rel="stylesheet" href="../_static/dkist.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/favico.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="telescope_pol_correction" href="ViSP_Pipeline.ScienceCalibration.telescope_pol_correction.html" />
    <link rel="prev" title="main" href="ViSP_Pipeline.ScienceCalibration.main.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>


  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="col-md-3 navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://nso.edu"><img src="../_static/img/NSOlogo.gif">
        </a>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav hidden">
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">ViSP Pipeline Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config_file.html">Configuration File Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../walkthrough.html">Data Reduction Walkthrough</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_warning.html">A Word About Data, RAM, and Disk Space</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../API.html">Reference/API</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">polarimetric_multiplication</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="ViSP_Pipeline.ScienceCalibration.main.html" title="Previous Chapter: main"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; main</span>
    </a>
  </li>
  <li>
    <a href="ViSP_Pipeline.ScienceCalibration.telescope_pol_correction.html" title="Next Chapter: telescope_pol_correction"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">telescope_pol... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>
          
            <ul class="nav navbar-nav navbar-left">
              <li><a href="http://dkist.nso.edu/">DKIST</a></li>
              <li><a href="http://docs.cadair.com/devdocs">DC Developer Guide</a></li>
              <li><a href="http://docs.cadair.com/datarate">DKIST Data Rate</a></li>
              <li><a href="http://docs.cadair.com/datamodel">DKIST Data Model</a></li>
            </ul>
          
          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">

    <div class="col-md-3"><div id="side-logo" >
            <a href="http://dkist.nso.edu">
                <img src="../_static/img/DKISTLogo-Medium.jpg">
            </a>
        </div><div id="sidebar" class="bs-sidenav" role="complementary">
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">ViSP Pipeline Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config_file.html">Configuration File Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../walkthrough.html">Data Reduction Walkthrough</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_warning.html">A Word About Data, RAM, and Disk Space</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../API.html">Reference/API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-ViSP_Pipeline.ViSPPipeline">ViSP_Pipeline.ViSPPipeline Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-ViSP_Pipeline.ViSPPolCalPipeline">ViSP_Pipeline.ViSPPolCalPipeline Module</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../API.html#module-ViSP_Pipeline.ScienceCalibration">ViSP_Pipeline.ScienceCalibration Module</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../API.html#id2">Functions</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.ScienceCalibration.average_beams.html">average_beams</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.ScienceCalibration.average_polarimetric_beams.html">average_polarimetric_beams</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.ScienceCalibration.extract_geometric_numbers.html">extract_geometric_numbers</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.ScienceCalibration.generate_science_calibration.html">generate_science_calibration</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.ScienceCalibration.geometric_correction.html">geometric_correction</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.ScienceCalibration.instrument_pol_correction.html">instrument_pol_correction</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.ScienceCalibration.main.html">main</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">polarimetric_multiplication</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.ScienceCalibration.telescope_pol_correction.html">telescope_pol_correction</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.ScienceCalibration.verify_useful_dark.html">verify_useful_dark</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.ScienceCalibration.verify_useful_demodulation.html">verify_useful_demodulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.ScienceCalibration.verify_useful_gain.html">verify_useful_gain</a></li>
<li class="toctree-l4"><a class="reference internal" href="ViSP_Pipeline.ScienceCalibration.verify_useful_geometric.html">verify_useful_geometric</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-ViSP_Pipeline.InstrumentPolCalibration">ViSP_Pipeline.InstrumentPolCalibration Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-ViSP_Pipeline.Data">ViSP_Pipeline.Data Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-ViSP_Pipeline.generic">ViSP_Pipeline.generic Module</a></li>
</ul>
</li>
</ul>

            
        </div>
    </div>

    <div class="body col-md-9 content" role="main">
      
  <div class="section" id="polarimetric-multiplication">
<h1>polarimetric_multiplication<a class="headerlink" href="#polarimetric-multiplication" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="ViSP_Pipeline.ScienceCalibration.polarimetric_multiplication">
<code class="sig-prename descclassname">ViSP_Pipeline.ScienceCalibration.</code><code class="sig-name descname">polarimetric_multiplication</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">demod</span></em>, <em class="sig-param"><span class="n">err_data</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">demod_err</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ViSP_Pipeline/ScienceCalibration.html#polarimetric_multiplication"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ViSP_Pipeline.ScienceCalibration.polarimetric_multiplication" title="Permalink to this definition">¶</a></dt>
<dd><p>Matrix multiply the input data by a polarization demodulation matrix.</p>
<p>This is a general-purpose function that requires good understanding of the input parameters. The important thing
is that the demodulation matrix’s last dimension is equal to the number of data HDU’s in the input data.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>fitsData</strong><span class="classifier">Data.FitsData</span></dt><dd><p>Input data to demodulate. For the instrumental demodulation the number of data HDUs should correspond to the
number of unique modulation states. For the telescope polarimetric calibration, there should be 4 data HDUs,
corresponding to the 4 Stokes parameters.</p>
</dd>
<dt><strong>demod</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>The demodulation matrix. There are a few different shapes it can have:</p>
<blockquote>
<div><p>1. (x, y, 4, M), where (x, y) is the shape of a single input frame and M is the number of modulation
states. In this case, a separate demodulation can be provided for each individual pixel. Total control!</p>
<ol class="arabic simple" start="2">
<li><p>(4, M). This assumes a constant demodulation matrix across the ViSP chip</p></li>
</ol>
<p>3. (4, 4). This form is used for removing the polarizing effect of the telescope optics and requires the
input data to already be in “Stokes” form.</p>
</div></blockquote>
<p>Note that in all cases the length of the second to last dimension is 4 (corresponding to the Stokes vector)
and the length of the last dimension is equal to the number of data HDUs in the input data.</p>
</dd>
<dt><strong>err_data</strong><span class="classifier">Data.FitsData or None</span></dt><dd><p>The uncertainty on the input data</p>
</dd>
<dt><strong>demod_err</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>Uncertainty on the input demodulation matrix</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Data.FitsData</dt><dd><p>Demodulated/corrected polarization data. Regardless of the inputs, the output will have 4 data HDUs,
corresponding to the 4 Stokes parameters.</p>
</dd>
<dt>Data.FitsData</dt><dd><p>If errData is provided, the uncertainty associated with the output data.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <div class="left-footer">
         &copy; 2020, Arthur Eigenbrot
       <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a>
    </div>
   
    <div class="right-footer">
      Last updated on 01 May 2020.
    </div>
    <div class="centre-footer">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.3
    </div>
  </div>
</footer>
  </body>
</html>